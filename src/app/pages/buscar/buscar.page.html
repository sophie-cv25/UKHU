<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Buscar Restaurantes</ion-title>
  </ion-toolbar>
  
  <ion-searchbar 
    [(ngModel)]="searchTerm"
    (ionFocus)="activarBusqueda()"
    (ionInput)="buscarRestaurantes()"
    placeholder="Buscar restaurantes...">
  </ion-searchbar>
</ion-header>

<ion-content [fullscreen]="true">
  <app-map></app-map>
  <app-tab-bar></app-tab-bar>
  
  <!-- Modal con el listado de restaurantes -->
  <ion-modal #modal [initialBreakpoint]="0.25" [breakpoints]="[0, 0.25, 0.5, 0.75]">
    <ng-template>
      <ion-content>
        <ion-header>
           <ion-toolbar>
              <ion-title>Resultados de b√∫squeda</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="toggleFiltros()">Filtros</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>

          <!-- Lista de filtros (se muestra solo cuando 'mostrarFiltros' es true) -->
          <ion-list *ngIf="mostrarFiltros">
            <ion-item *ngFor="let categoria of categorias" (click)="filtrarPorCategoria(categoria)">
              <ion-label>{{ categoria }}</ion-label>
            </ion-item>
          </ion-list>

<ion-searchbar placeholder="Buscar restaurantes..." [(ngModel)]="searchTerm" (ionInput)="buscarRestaurantes()"></ion-searchbar>

<ion-list>
  <ion-item *ngFor="let restaurante of restaurantesFiltrados" (click)="irARestaurante(restaurante)">
    <app-card-2 [restaurante]="restaurante"></app-card-2>
  </ion-item>
</ion-list>


      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
