<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center" color="warning">
      {{ 'perfil.titulo' | translate }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" routerLink="/configuracion">
        <ion-icon name="settings-sharp" slot="icon-only" color="warning"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color="primary" class="fondo" [fullscreen]="true">
  <style>
    ::ng-deep .info-basica ion-item ion-input .native-input {
      transform: translateY(13px);
    }
  </style>

  <div class="contenedor-perfil">
    <!-- Imagen de perfil con marco amarillo -->
    <div class="avatar-unico">
      <img [src]="'assets/icon/' + (userData?.iconoPerfil || 'Perfilnegro.svg')"
           alt="Avatar"
           class="avatar-unico-img" />
    </div>

    <!-- Botones Editar / Historial -->
    <div class="botones-perfil">
      <ion-button color="success" shape="round" size="small" class="boton-personalizado" routerLink="/edit-perfilc">
        {{ 'perfil.boton_editar' | translate }}
      </ion-button>
      <ion-button color="success" shape="round" size="small" class="boton-personalizado" [routerLink]="'/historial/' + userData.id">
        {{ 'perfil.boton_historial' | translate }}
      </ion-button>
    </div>

    <!-- Información básica con datos dinámicos -->
    <div class="info-basica">
      <ion-item>
        <ion-label>{{ 'perfil.nombre' | translate }}</ion-label>
        <ion-input [(ngModel)]="userData.nombre" name="nombre" type="text" readonly></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>{{ 'perfil.usuario' | translate }}</ion-label>
        <ion-input [(ngModel)]="userData.nombreUsuario" name="nombreUsuario" type="text" readonly></ion-input>
      </ion-item>
    </div>

    <!-- Gráfico (placeholder) -->
    <div class="grafico-placeholder">
      {{ 'perfil.grafico_acumulacion' | translate }}<br />
    </div>

    <!-- Botón cerrar sesión -->
    <ion-button color="success" shape="round" class="boton-personalizado boton-cerrar-sesion" (click)="cerrarSesion()">
      {{ 'perfil.boton_cerrar_sesion' | translate }}
    </ion-button>
  </div>
</ion-content>

<ion-footer>
  <app-tab-bar></app-tab-bar>
</ion-footer>
